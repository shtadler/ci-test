name: Lint
on: push
jobs:
  eslint:
    runs-on: ubuntu-latest
    steps:
      - name: Setup
        uses: actions/checkout@v1
      - name: Stylelint
        run: npx stylelint "**/*.(sa|sc|c)ss"
      - name: ESLint
        run: npx eslint "**/*.js" --format codeframe

      # - run: |
      #       if [ "$MY_SECRET" != "" ]; then
      #           echo WOOHOO
      #       fi
      #   env:
      #     MY_SECRET: ${{ secrets.DOES_NOT_EXIST }}
      - name: Slack notification
        if: process.env.SLACK_WEBHOOK1
        env:
          SLACK_WEBHOOK: ${{ secrets.SLACK_WEBHOOK1 }}
          SLACK_USERNAME: ThisIsMyUsername # Optional. (defaults to webhook app)
          SLACK_CHANNEL: general # Optional. (defaults to webhook)
          SLACK_AVATAR: repository # Optional. can be (repository, sender, an URL) (defaults to webhook app avatar)
        uses: Ilshidur/action-slack@master
        with:
          args: '${{github.actor}} напушил вот сюда ${{github.repository}}' # Optional
